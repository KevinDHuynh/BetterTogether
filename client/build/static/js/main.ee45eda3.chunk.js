(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{100:function(e,t,a){e.exports=a(130)},128:function(e,t,a){},130:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(9),i=a.n(l),o=a(88),c=a(17),s=a(27),u=a(80),m=a(81),d=a(89),E=a(16),p={items:[],loading:!1},h={msg:{},status:null,id:null},g={token:localStorage.getItem("token"),isAuthenticated:null,isLoading:!1,user:null},b=Object(s.combineReducers)({item:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ITEMS":return Object(E.a)(Object(E.a)({},e),{},{items:t.payload,loading:!1});case"DELETE_ITEM":return Object(E.a)(Object(E.a)({},e),{},{items:e.items.filter((function(e){return e._id!==t.payload}))});case"ADD_ITEM":return Object(E.a)(Object(E.a)({},e),{},{items:[t.payload].concat(Object(d.a)(e.items))});case"ITEMS_LOADING":return Object(E.a)(Object(E.a)({},e),{},{loading:!0});default:return e}},error:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ERRORS":return{msg:t.payload.msg,status:t.payload.status,id:t.payload.id};case"CLEAR_ERRORS":return{msg:{},status:null,id:null};default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_LOADING":return Object(E.a)(Object(E.a)({},e),{},{isLoading:!0});case"USER_LOADED":return Object(E.a)(Object(E.a)({},e),{},{isAuthenticated:!0,isLoading:!1,user:t.payload});case"LOGIN_SUCCESS":case"REGISTER_SUCCESS":return localStorage.setItem("token",t.payload.token),Object(E.a)(Object(E.a)(Object(E.a)({},e),t.payload),{},{isAuthenticated:!0,isLoading:!1});case"AUTH_ERROR":case"LOGIN_FAIL":case"LOGOUT_SUCCESS":case"REGISTER_FAIL":return localStorage.removeItem("token"),Object(E.a)(Object(E.a)({},e),{},{token:null,user:null,isAuthenticated:!1,isLoading:!1});default:return e}}}),f=[m.a],v=Object(s.createStore)(b,{},Object(u.composeWithDevTools)(s.applyMiddleware.apply(void 0,f))),y=a(31),O=a.n(y),S=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:"GET_ERRORS",payload:{msg:e,status:t,id:a}}},_=function(){return{type:"CLEAR_ERRORS"}},C=function(e){var t=e().auth.token,a={headers:{"Content-type":"application/json"}};return t&&(a.headers["x-auth-token"]=t),a},j=a(175),A=a(176),R=a(158),I=a(19),T=a(20),k=a(22),w=a(21),L=a(162),N=a(163),D=a(164),G=a(93),U=a(165),W=a(166),M=a(85),F=a.n(M),H=function(){return{type:"ITEMS_LOADING"}},Y=function(e){Object(k.a)(a,e);var t=Object(w.a)(a);function a(){var e;Object(I.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).onDeleteClick=function(t){e.props.deleteItem(t)},e}return Object(T.a)(a,[{key:"componentDidUpdate",value:function(e){this.props.isAuthenticated!==e.isAuthenticated&&this.props.getItems()}},{key:"componentDidMount",value:function(){this.props.getItems()}},{key:"render",value:function(){var e=this,t=this.props.item.items;return r.a.createElement(R.a,null,r.a.createElement(L.a,{container:!0,direction:"row",spacing:2,style:{marginTop:"1em"}},t.map((function(t){var a=t._id,n=t.description,l=(t.predicted_longterm_benefit,t.perceived_benefit,t.estimated_difficulty,t.title);t.type;return r.a.createElement(L.a,{item:!0},r.a.createElement(N.a,null,r.a.createElement(D.a,null,r.a.createElement(G.a,{color:"textSecondary",gutterBottom:!0},l),r.a.createElement(G.a,{variant:"body2",component:"p"},n)),r.a.createElement(U.a,null,r.a.createElement(W.a,{"aria-label":"delete",fontSize:"small",color:"secondary",onClick:e.onDeleteClick.bind(e,a)},r.a.createElement(F.a,null)))))}))))}}]),a}(n.Component),B=Object(c.b)((function(e){return{auth:e.auth,item:e.item,isAuthenticated:e.auth.isAuthenticated}}),{getItems:function(){return function(e,t){e(H()),O.a.get("/api/habit_recorders",C(t)).then((function(t){return e({type:"GET_ITEMS",payload:t.data})})).catch((function(t){return e(S(t.response.data,t.response.status))}))}},deleteItem:function(e){return function(t,a){O.a.delete("/api/habit_recorders/".concat(e),C(a)).then((function(a){return t({type:"DELETE_ITEM",payload:e})})).catch((function(e){return t(S(e.response.data,e.response.status))}))}}})(Y),P=a(28),V=a(167),x=a(180),K=a(168),J=a(169),z=a(131),$=a(177),q=a(170),Q=a(181),X=a(171),Z=function(e){Object(k.a)(a,e);var t=Object(w.a)(a);function a(){var e;Object(I.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={dialog:!1,title:"",type:"",description:"",predicted_longterm_benefit:"",estimated_difficulty:"",estimated_time:""},e.types=[{value:"PHYSICAL",label:"Physical"},{value:"SLEEP",label:"Sleep"},{value:"CREATIVE",label:"Creative"},{value:"PLEASURE",label:"Pleasure"}],e.difficulty=[{value:"VERY_EASY",label:"Very Easy"},{value:"EASY",label:"Easy"},{value:"MEDIUM",label:"Medium"},{value:"HARD",label:"Hard"},{value:"VERY_HARD",label:"Very Hard"}],e.time=[{value:"LESS_THAN_A_WEEK",label:"<1 Week"},{value:"ONE_WEEK",label:"1 Week"},{value:"TWO_WEEKS",label:"2 Weeks"},{value:"THREE_WEEKS",label:"3 Weeks"},{value:"ONE_MONTH",label:"1 Month"},{value:"EIGHT_WEEKS",label:"2 Months"},{value:"TWELVE_WEEKS",label:"3 Months"},{value:"TWENTYONE_WEEKS",label:"6 Months"},{value:"ONE_YEAR",label:"1 Year"},{value:"TWO_YEARS",label:"2 Years"},{value:"FIVE_YEARS",label:"5 Years"},{value:"TEN_YEARS",label:"10 Years"},{value:"GREATER_THAN_TEN_YEARS",label:">10 Years"}],e.toggle=function(){e.setState({dialog:!e.state.dialog})},e.onChange=function(t){e.setState(Object(P.a)({},t.target.name,t.target.value))},e.onSubmit=function(t){t.preventDefault();var a={title:e.state.title,type:e.state.type,description:e.state.description,predicted_longterm_benefit:e.state.predicted_longterm_benefit,estimated_difficulty:e.state.estimated_difficulty,estimated_time:e.state.estimated_time};e.props.addItem(a),e.toggle()},e}return Object(T.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(V.a,{variant:"contained",color:"primary",onClick:this.toggle,style:{margin:"2em"}},"Add Habit"),r.a.createElement(x.a,{"aria-labelledby":"new-habit-dialog",open:this.state.dialog},r.a.createElement(K.a,{id:"new-habit-dialog"},"Create New Habit"),r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement(J.a,null,r.a.createElement(z.a,null,r.a.createElement($.a,{label:"Name of Habit",name:"title",margin:"dense",onChange:this.onChange})),r.a.createElement(z.a,null,r.a.createElement($.a,{label:"Brief Description",name:"description",margin:"dense",onChange:this.onChange})),r.a.createElement(z.a,null,r.a.createElement($.a,{select:!0,variant:"standard",fullWidth:"True",label:"Type of Habit",name:"type",margin:"dense",onChange:this.onChange},this.types.map((function(e){return r.a.createElement(q.a,{key:e.value,value:e.value},e.label)})))),r.a.createElement(z.a,null,r.a.createElement(G.a,{id:"discrete-slider",gutterBottom:!0},"Predicted Longterm Benefit"),r.a.createElement(Q.a,{name:"predicted_longterm_benefit",defaultValue:5,"aria-labelledby":"discrete-slider",valueLabelDisplay:"auto",step:1,marks:!0,min:1,max:10})),r.a.createElement(z.a,null,r.a.createElement($.a,{select:!0,variant:"standard",fullWidth:"True",label:"Estimated Difficulty",name:"estimated_difficulty",margin:"dense",onChange:this.onChange},this.difficulty.map((function(e){return r.a.createElement(q.a,{key:e.value,value:e.value},e.label)})))),r.a.createElement(z.a,null,r.a.createElement($.a,{select:!0,variant:"standard",fullWidth:"True",label:"Estimated Time",name:"estimated_time",margin:"dense",onChange:this.onChange},this.time.map((function(e){return r.a.createElement(q.a,{key:e.value,value:e.value},e.label)})))))),r.a.createElement(X.a,null,r.a.createElement(V.a,{color:"secondary",onClick:this.toggle},"Cancel"),r.a.createElement(V.a,{color:"primary",onClick:this.onSubmit},"Add Item"))))}}]),a}(n.Component),ee=Object(c.b)((function(e){return{item:e.item}}),{addItem:function(e){return function(t,a){O.a.post("/api/habit_recorders",e,C(a)).then((function(e){return t({type:"ADD_ITEM",payload:e.data})})).catch((function(e){return t(S(e.response.data,e.response.status))}))}}})(Z),te=a(172),ae=a(173),ne=a(174),re=a(182),le=a(4),ie=a(179),oe=function(e){Object(k.a)(a,e);var t=Object(w.a)(a);function a(){var e;Object(I.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={dialog:!1,name:"",username:"",password:"",msg:null},e.toggle=function(){e.props.clearErrors(),e.setState({dialog:!e.state.dialog})},e.onChange=function(t){e.setState(Object(P.a)({},t.target.name,t.target.value))},e.onSubmit=function(t){t.preventDefault();var a=e.state,n={name:a.name,username:a.username,password:a.password};e.props.register(n)},e}return Object(T.a)(a,[{key:"componentDidUpdate",value:function(e){var t=this.props.error;t!==e.error&&("REGISTER_FAIL"===t.id?this.setState({msg:t.msg.error_msg}):this.setState({msg:null})),this.state.dialog&&this.props.isAuthenticated&&this.toggle()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(V.a,{variant:"contained",onClick:this.toggle,color:"secondary"},"Register"),r.a.createElement(x.a,{"aria-labelledby":"new-habit-dialog",open:this.state.dialog},r.a.createElement(K.a,{id:"new-habit-dialog"},"Create New Account"),this.state.msg?r.a.createElement(ie.a,{severity:"error"},this.state.msg):null,r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement(J.a,null,r.a.createElement(z.a,null,r.a.createElement($.a,{label:"Full Name",name:"name",margin:"dense",onChange:this.onChange})),r.a.createElement(z.a,null,r.a.createElement($.a,{label:"Username",name:"username",margin:"dense",onChange:this.onChange})),r.a.createElement(z.a,null,r.a.createElement($.a,{label:"Password",name:"password",margin:"dense",onChange:this.onChange})))),r.a.createElement(X.a,null,r.a.createElement(V.a,{color:"secondary",onClick:this.toggle},"Cancel"),r.a.createElement(V.a,{color:"primary",onClick:this.onSubmit},"Register"))))}}]),a}(n.Component),ce=Object(c.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated,error:e.error}}),{register:function(e){var t=e.name,a=e.username,n=e.password;return function(e){var r=JSON.stringify({name:t,username:a,password:n});O.a.post("/api/register",r,{headers:{"Content-Type":"application/json"}}).then((function(t){return e({type:"REGISTER_SUCCESS",payload:t.data})})).catch((function(t){e(S(t.response.data,t.response.status,"REGISTER_FAIL")),e({type:"REGISTER_FAIL"})}))}},clearErrors:_})(oe),se=function(e){Object(k.a)(a,e);var t=Object(w.a)(a);function a(){return Object(I.a)(this,a),t.apply(this,arguments)}return Object(T.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(n.Fragment,null,r.a.createElement(V.a,{variant:"contained",onClick:this.props.logout,href:"#",color:"secondary"},"Logout")))}}]),a}(n.Component),ue=Object(c.b)(null,{logout:function(){return{type:"LOGOUT_SUCCESS"}}})(se),me=function(e){Object(k.a)(a,e);var t=Object(w.a)(a);function a(){var e;Object(I.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={dialog:!1,username:"",password:"",msg:null},e.toggle=function(){e.props.clearErrors(),e.setState({dialog:!e.state.dialog})},e.onChange=function(t){e.setState(Object(P.a)({},t.target.name,t.target.value))},e.onSubmit=function(t){t.preventDefault();var a=e.state,n={username:a.username,password:a.password};e.props.login(n)},e}return Object(T.a)(a,[{key:"componentDidUpdate",value:function(e){var t=this.props.error;t!==e.error&&("LOGIN_FAIL"===t.id?this.setState({msg:t.msg.error_msg}):this.setState({msg:null})),this.state.dialog&&this.props.isAuthenticated&&this.toggle()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(V.a,{variant:"contained",onClick:this.toggle,color:"secondary"},"Login"),r.a.createElement(x.a,{"aria-labelledby":"new-habit-dialog",open:this.state.dialog},r.a.createElement(K.a,{id:"new-habit-dialog"},"Login"),this.state.msg?r.a.createElement(ie.a,{severity:"error"},this.state.msg):null,r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement(J.a,null,r.a.createElement(z.a,null,r.a.createElement($.a,{label:"Username",name:"username",margin:"dense",onChange:this.onChange})),r.a.createElement(z.a,null,r.a.createElement($.a,{label:"Password",name:"password",margin:"dense",onChange:this.onChange})))),r.a.createElement(X.a,null,r.a.createElement(V.a,{color:"secondary",onClick:this.toggle},"Cancel"),r.a.createElement(V.a,{color:"primary",onClick:this.onSubmit},"Login"))))}}]),a}(n.Component),de=Object(c.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated,error:e.error}}),{login:function(e){var t=e.username,a=e.password;return function(e){var n=JSON.stringify({username:t,password:a});O.a.post("/api/login/",n,{headers:{"Content-Type":"application/json"}}).then((function(t){return e({type:"LOGIN_SUCCESS",payload:t.data})})).catch((function(t){e(S(t.response.data,t.response.status,"LOGIN_FAIL")),e({type:"LOGIN_FAIL"})}))}},clearErrors:_})(me),Ee=Object(re.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}})),pe=function(e){Object(k.a)(a,e);var t=Object(w.a)(a);function a(){var e;Object(I.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={isOpen:!1},e.onSubmit=function(e){e.preventDefault()},e}return Object(T.a)(a,[{key:"render",value:function(){var e=this.props.classes,t=this.props.auth,a=t.isAuthenticated,l=(t.user,r.a.createElement(n.Fragment,null,r.a.createElement(G.a,{variant:"h5",className:e.menuButton},r.a.createElement(ue,null)))),i=r.a.createElement(n.Fragment,null,r.a.createElement(G.a,{variant:"h5",className:e.menuButton},r.a.createElement(ce,null)),r.a.createElement(G.a,{variant:"h5",className:e.menuButton},r.a.createElement(de,null)));return r.a.createElement("div",{className:e.root},r.a.createElement(te.a,{position:"fixed",style:{margin:0}},r.a.createElement(ae.a,null,r.a.createElement(G.a,{variant:"h5",className:e.title},r.a.createElement(ne.a,{href:"#cover",color:"inherit",onClick:this.onSubmit},"BetterTogether")),a?l:i)))}}]),a}(n.Component),he=Object(c.b)((function(e){return{auth:e.auth}}),null)(Object(le.a)(Ee)(pe)),ge=a(87),be=Object(ge.a)({palette:{primary:{main:"#1B5E20"},secondary:{main:"#F57F17"}},themeName:"Parsley Ecstasy Albacore"}),fe=(a(128),n.Fragment,function(){return Object(n.useEffect)((function(){v.dispatch((function(e,t){e({type:"USER_LOADING"}),O.a.get("/api/login/user",C(t)).then((function(t){return e({type:"USER_LOADED",payload:t.data})})).catch((function(t){e(S(t.response.data,t.response.status)),e({type:"AUTH_ERROR"})}))}))}),[]),r.a.createElement(c.a,{store:v},r.a.createElement(j.a,{theme:be},r.a.createElement(A.a,null),r.a.createElement("div",{className:"App"},r.a.createElement(he,null),r.a.createElement(R.a,null,r.a.createElement(B,null),r.a.createElement(ee,null)))))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(o.a,{basename:"dashboard"},r.a.createElement(fe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[100,1,2]]]);
//# sourceMappingURL=main.ee45eda3.chunk.js.map